# üìå –†–µ–∑—é–º–µ: –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ PassDesk –Ω–∞ VPS

## üéØ –¶–µ–ª—å
–ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å PassDesk –∫ production —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é –Ω–∞ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–º VPS —Å–µ—Ä–≤–µ—Ä–µ —Å –ø–æ–ª–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π (—Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ + –±—ç–∫–µ–Ω–¥ + –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö + S3 —Ö—Ä–∞–Ω–∏–ª–∏—â–µ).

---

## üìã –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

| –§–∞–π–ª | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ | –î–ª—è –∫–æ–≥–æ |
|------|-----------|---------|
| **DEPLOYMENT_PLAN.md** | –ü–æ—à–∞–≥–æ–≤—ã–π –ø–ª–∞–Ω –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ –∫–æ–¥–∞ –∏ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã | –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏ |
| **PRODUCTION_ARCHITECTURE.md** | –î–µ—Ç–∞–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã, –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤, –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ | –ê—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä—ã, DevOps |
| **DEPLOYMENT_CHECKLIST.md** | –ß–µ–∫-–ª–∏—Å—Ç —Å–æ –≤—Å–µ–º–∏ –¥–µ–π—Å—Ç–≤–∏—è–º–∏ –¥–ª—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è | –û–ø–µ—Ä–∞—Ç–æ—Ä—ã |
| **ARCHITECTURE_DIAGRAMS.md** | –í–∏–∑—É–∞–ª—å–Ω—ã–µ –¥–∏–∞–≥—Ä–∞–º–º—ã –∏ –ø–æ—Ç–æ–∫–∏ –¥–∞–Ω–Ω—ã—Ö | –í—Å–µ |
| **DEPLOYMENT_SUMMARY.md** | –≠—Ç–æ—Ç —Ñ–∞–π–ª - –∫—Ä–∞—Ç–∫–æ–µ —Ä–µ–∑—é–º–µ | –ú–µ–Ω–µ–¥–∂–µ—Ä—ã |

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –Ω–∞ VPS

```
–ò–Ω—Ç–µ—Ä–Ω–µ—Ç ‚Üí HTTPS (443) ‚Üí Nginx ‚Üí HTTP (5000) ‚Üí Node.js ‚Üí PostgreSQL + S3
```

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
1. **Nginx** - –≤–µ–±-—Å–µ—Ä–≤–µ—Ä, reverse proxy, SSL termination
2. **Node.js/Express** - API —Å–µ—Ä–≤–µ—Ä (2 –ø—Ä–æ—Ü–µ—Å—Å–∞ –≤ PM2 cluster mode)
3. **PostgreSQL** - –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (—É–¥–∞–ª–µ–Ω–Ω–∞—è –Ω–∞ Yandex Cloud)
4. **S3** - –æ–±–ª–∞—á–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ (Cloud.ru / Yandex Cloud)

---

## üîÑ –ü—Ä–æ—Ü–µ—Å—Å –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ –∫ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é

### –≠—Ç–∞–ø 1: –ö–æ–¥ (–ª–æ–∫–∞–ª—å–Ω–æ)
- [ ] –£–±—Ä–∞—Ç—å –∂–µ—Å—Ç–∫–∏–µ IP –∞–¥—Ä–µ—Å–∞ –∏–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π
- [ ] –°–æ–∑–¥–∞—Ç—å `.env.example` —Ñ–∞–π–ª—ã
- [ ] –û–±–Ω–æ–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è production
- [ ] –°–æ–∑–¥–∞—Ç—å `ecosystem.config.js` –¥–ª—è pm2
- [ ] –°–æ–∑–¥–∞—Ç—å Nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
- [ ] –°–æ–∑–¥–∞—Ç—å —Å–∫—Ä–∏–ø—Ç—ã —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

### –≠—Ç–∞–ø 2: VPS –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞
- [ ] –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Node.js 20+
- [ ] –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å pm2
- [ ] –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Nginx
- [ ] –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Certbot (SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã)
- [ ] –ü–æ–ª—É—á–∏—Ç—å SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –æ—Ç Let's Encrypt
- [ ] –°–æ–∑–¥–∞—Ç—å –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏

### –≠—Ç–∞–ø 3: –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ
- [ ] –°–æ–±—Ä–∞—Ç—å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ (npm run build)
- [ ] –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–µ–∫—Ç –Ω–∞ VPS
- [ ] –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å npm –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å `.env` —Ñ–∞–π–ª—ã –Ω–∞ VPS
- [ ] –ó–∞–ø—É—Å—Ç–∏—Ç—å Node.js —á–µ—Ä–µ–∑ pm2
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Nginx reverse proxy
- [ ] –í–∫–ª—é—á–∏—Ç—å SSL (Let's Encrypt)

### –≠—Ç–∞–ø 4: –ü—Ä–æ–≤–µ—Ä–∫–∞
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Å–∞–π—Ç–∞ (HTTPS)
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å API —Ä–∞–±–æ—Ç—É (/health endpoint)
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∑–∞–≥—Ä—É–∑–∫—É —Ñ–∞–π–ª–æ–≤
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ (PM2, Nginx)

---

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –ú–µ—Ä–∞ |
|-----------|-----|
| **HTTPS/SSL** | Let's Encrypt (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ) |
| **JWT —Ç–æ–∫–µ–Ω—ã** | –ü–æ–¥–ø–∏—Å–∞–Ω—ã JWT_SECRET (—Ç–æ–ª—å–∫–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ) |
| **–ü–∞—Ä–æ–ª–∏ –ë–î** | –í .env —Ñ–∞–π–ª–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ (–Ω–µ –≤ –∫–æ–¥–µ) |
| **S3 –∫–ª—é—á–∏** | –í .env —Ñ–∞–π–ª–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ (–Ω–µ –≤ –∫–æ–¥–µ) |
| **CORS** | –¢–æ–ª—å–∫–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã–µ –¥–æ–º–µ–Ω—ã |
| **Rate Limiting** | –ó–∞—â–∏—Ç–∞ –æ—Ç DDoS (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) |
| **Firewall** | UFW (SSH, HTTP, HTTPS) |

---

## üìä –ü–æ—Ç–æ–∫–∏ –¥–∞–Ω–Ω—ã—Ö

### 1. –ó–∞–≥—Ä—É–∑–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
```
–ë—Ä–∞—É–∑–µ—Ä ‚Üí HTTPS/443 ‚Üí Nginx ‚Üí –°—Ç–∞—Ç–∏–∫–∞ React (dist/) ‚Üí –ë—Ä–∞—É–∑–µ—Ä –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç SPA
```

### 2. –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
```
React (—Ñ–æ—Ä–º–∞ –ª–æ–≥–∏–Ω–∞) ‚Üí POST /api/v1/auth/login ‚Üí Express ‚Üí PostgreSQL ‚Üí JWT —Ç–æ–∫–µ–Ω
```

### 3. API –∑–∞–ø—Ä–æ—Å —Å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π
```
React (—Å Bearer <token>) ‚Üí Nginx ‚Üí Express (–ø—Ä–æ–≤–µ—Ä–∫–∞ JWT) ‚Üí PostgreSQL ‚Üí –¥–∞–Ω–Ω—ã–µ
```

### 4. –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞
```
React (FormData) ‚Üí Nginx ‚Üí Express ‚Üí S3 upload ‚Üí DB –∑–∞–ø–∏—Å—å ‚Üí –ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã–π URL
```

---

## üöÄ –ö–æ–º–∞–Ω–¥—ã –¥–ª—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

### –ù–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ:
```bash
# –°–æ–±—Ä–∞—Ç—å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥
cd client
npm run build

# –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –Ω–∞ VPS
./scripts/deploy.sh your-vps.com wstil yourdomain.com
```

### –ù–∞ VPS (–ø–µ—Ä–≤—ã–π —Ä–∞–∑):
```bash
# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
bash /tmp/init-vps.sh

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä
ssh wstil@your-vps.com "cd ~/passdesk/server && pm2 start ecosystem.config.js"
```

### –ù–∞ VPS (–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è):
```bash
# –ü–æ–ª—É—á–∏—Ç—å –Ω–æ–≤—ã–π –∫–æ–¥
ssh wstil@your-vps.com "cd ~/passdesk && git pull origin main"

# –ï—Å–ª–∏ –∏–∑–º–µ–Ω–∏–ª—Å—è –±—ç–∫–µ–Ω–¥
cd ~/passdesk/server
npm install
pm2 restart passdesk-server

# –ï—Å–ª–∏ –∏–∑–º–µ–Ω–∏–ª—Å—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥
cd ../client
npm run build
cp -r dist/* /var/www/passdesk/dist/
sudo systemctl reload nginx
```

---

## ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ—Å–ª–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

‚úì **–°–∞–π—Ç –¥–æ—Å—Ç—É–ø–µ–Ω**: https://yourdomain.com  
‚úì **API —Ä–∞–±–æ—Ç–∞–µ—Ç**: https://yourdomain.com/api/v1/health  
‚úì **SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç**: Let's Encrypt (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è)  
‚úì **–§—Ä–æ–Ω—Ç–µ–Ω–¥**: –†–∞–∑–¥–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ Nginx (—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã)  
‚úì **–ë—ç–∫–µ–Ω–¥**: –†–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ pm2 (2 –ø—Ä–æ—Ü–µ—Å—Å–∞)  
‚úì **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: PostgreSQL (Yandex Cloud)  
‚úì **–•—Ä–∞–Ω–∏–ª–∏—â–µ**: S3-—Å–æ–≤–º–µ—Å—Ç–∏–º–æ–µ (Cloud.ru / Yandex Cloud)  
‚úì **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**: PM2 + Nginx –ª–æ–≥–∏  
‚úì **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**: pm2 status, pm2 logs  

---

## üìà –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ

**–¢–µ–∫—É—â–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:**
- 2 –ø—Ä–æ—Ü–µ—Å—Å–∞ Node.js (PM2 cluster mode)
- –ë–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∞ –Ω–∞–≥—Ä—É–∑–∫–∏ (round-robin)
- Failover: –µ—Å–ª–∏ –æ–¥–∏–Ω –ø—Ä–æ—Ü–µ—Å—Å —É–ø–∞–¥–µ—Ç, –¥—Ä—É–≥–æ–π –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç—É

**–í–æ–∑–º–æ–∂–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è:**
- [ ] –£–≤–µ–ª–∏—á–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ (–ø–æ —á–∏—Å–ª—É CPU cores)
- [ ] –î–æ–±–∞–≤–∏—Ç—å Redis –∫—ç—à –¥–ª—è —Å–µ—Å—Å–∏–π
- [ ] –î–æ–±–∞–≤–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ (Prometheus, Grafana)
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å CDN –¥–ª—è —Å—Ç–∞—Ç–∏–∫–∏
- [ ] –î–æ–±–∞–≤–∏—Ç—å load balancer (–µ—Å–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ VPS)
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ backup-—ã –ë–î

---

## üîß –û–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ

### –ï–∂–µ–¥–Ω–µ–≤–Ω–æ:
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏: `pm2 logs passdesk-server | tail -50`
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å: `pm2 status`

### –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ:
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–∏—Å–∫–∞: `df -h`
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏: `free -h`

### –ï–∂–µ–º–µ—Å—è—á–Ω–æ:
- –û–±–Ω–æ–≤–∏—Ç—å OS –ø–∞–∫–µ—Ç—ã: `sudo apt update && sudo apt upgrade`
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç: `sudo certbot certificates`
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –ë–î –Ω–∞ –æ—à–∏–±–∫–∏

### –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏:
- –û—á–∏—Å—Ç–∏—Ç—å PM2 –ª–æ–≥–∏: `pm2 flush`
- –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å Nginx: `sudo systemctl reload nginx`
- –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ: `pm2 restart passdesk-server`

---

## üÜò Troubleshooting

| –ü—Ä–æ–±–ª–µ–º–∞ | –†–µ—à–µ–Ω–∏–µ |
|----------|---------|
| –°–∞–π—Ç –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è (Connection refused) | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Nginx: `sudo nginx -t` |
| API –æ—à–∏–±–∫–∞ 502 (Bad Gateway) | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å PM2: `pm2 status`, `pm2 logs` |
| –ú–µ–¥–ª–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –ë–î, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ CPU/–ø–∞–º—è—Ç–∏ |
| SSL –æ—à–∏–±–∫–∞ (untrusted certificate) | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å: `sudo certbot certificates` |
| –§–∞–π–ª—ã –Ω–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å S3 –∫–ª—é—á–∏ –∏ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ |
| –ó–∞–ø—Ä–æ—Å—ã –∏–∑ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ –±—Ä–∞—É–∑–µ—Ä–∞ –ø–∞–¥–∞—é—Ç | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å CORS: `process.env.ALLOWED_ORIGINS` |

---

## üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã –∏ —Ä–µ—Å—É—Ä—Å—ã

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:**
- [Nginx –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](https://nginx.org/en/docs/)
- [PM2 –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](https://pm2.keymetrics.io/docs)
- [PostgreSQL –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](https://www.postgresql.org/docs/)
- [AWS S3 API](https://docs.aws.amazon.com/s3/index.html)
- [Let's Encrypt](https://letsencrypt.org/docs/)

**–ö–æ–º–∞–Ω–¥—ã –ø–æ–º–æ—â–∏:**
```bash
# Nginx
sudo nginx -t            # –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
sudo systemctl status nginx
sudo systemctl restart nginx
sudo tail -100 /var/log/nginx/passdesk-error.log

# PM2
pm2 status              # –°—Ç–∞—Ç—É—Å –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
pm2 logs                # –õ–æ–≥–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
pm2 restart passdesk-server
pm2 save                # –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é

# PostgreSQL
psql -U admin -d passdesk_prod -h your-db.yandex.cloud

# S3
# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å AWS CLI –∏–ª–∏ web –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞
```

---

## üéì –û–±—É—á–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã

**DevOps –∏–Ω–∂–µ–Ω–µ—Ä –¥–æ–ª–∂–µ–Ω —É–º–µ—Ç—å:**
- –£–ø—Ä–∞–≤–ª—è—Ç—å PM2 –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å Nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- –†–∞–±–æ—Ç–∞—Ç—å —Å SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞–º–∏
- –ü—Ä–æ–≤–µ—Ä—è—Ç—å –ª–æ–≥–∏ –∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—ã
- –í—ã–ø–æ–ª–Ω—è—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫–æ–¥–∞
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å backup-—ã

**–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–æ–ª–∂–Ω—ã –∑–Ω–∞—Ç—å:**
- –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç development environment
- –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç production environment
- –ö–∞–∫ –æ—Ç–ª–∞–∂–∏–≤–∞—Ç—å API –∑–∞–ø—Ä–æ—Å—ã
- –ö–∞–∫ –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –ª–æ–≥–∏ –Ω–∞ production
- –ö–∞–∫ –≤—ã–∫–∞—Ç—ã–≤–∞—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

---

## üìù –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

| –í–µ—Ä—Å–∏—è | –î–∞—Ç–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|--------|------|---------|
| 1.0 | 2025-01-23 | –ù–∞—á–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ |
| - | - | - |

---

## ‚ú® –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

PassDesk –≥–æ—Ç–æ–≤ –∫ production —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é –Ω–∞ VPS. 

**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:**
- ‚úÖ –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–∞—è
- ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è  
- ‚úÖ –ù–∞–¥–µ–∂–Ω–∞—è (failover)
- ‚úÖ –õ–µ–≥–∫–æ –æ–±—Å–ª—É–∂–∏–≤–∞–µ–º–∞—è
- ‚úÖ –ú–æ–Ω–∏—Ç–æ—Ä–∏—Ä—É–µ–º–∞—è

**–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:**
1. –ü—Ä–æ–≤–µ—Å—Ç–∏ peer review –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
2. –í—ã–ø–æ–ª–Ω–∏—Ç—å —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ staging-—Å–µ—Ä–≤–µ—Ä–µ
3. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–¥ –Ω–∞–≥—Ä—É–∑–∫–æ–π
4. –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –Ω–∞ production VPS
5. –ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å –ø–µ—Ä–≤—ã–µ 24 —á–∞—Å–∞

üöÄ **–ì–æ—Ç–æ–≤–æ –∫ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤—É!**

---

**–ü–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–æ:** AI Assistant  
**–î–∞—Ç–∞:** 2025-01-23  
**–í–µ—Ä—Å–∏—è:** 1.0  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞

