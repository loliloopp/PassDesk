# ğŸ“Š Ğ”Ğ¸Ğ°Ğ³Ñ€Ğ°Ğ¼Ğ¼Ñ‹ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ñ‹ PassDesk Production

## 1. ĞĞ±Ñ‰Ğ°Ñ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ° ÑĞ¸ÑÑ‚ĞµĞ¼Ñ‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                         â”‚
â”‚                     Ğ˜ĞĞ¢Ğ•Ğ ĞĞ•Ğ¢ (ĞŸĞ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ğ¸)                             â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   HTTPS (TLS/SSL)       â”‚
                    â”‚   yourdomain.com        â”‚
                    â”‚   Port 443              â”‚
                    â”‚                         â”‚
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚                                               â”‚
      â”‚         VPS Server (Ubuntu 22.04)              â”‚
      â”‚         IP: 185.200.179.x                     â”‚
      â”‚                                               â”‚
      â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
      â”‚  â”‚                                         â”‚  â”‚
      â”‚  â”‚   NGINX (Ğ²ĞµĞ±-ÑĞµÑ€Ğ²ĞµÑ€)                   â”‚  â”‚
      â”‚  â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                    â”‚  â”‚
      â”‚  â”‚   â€¢ Ğ¡Ğ»ÑƒÑˆĞ°ĞµÑ‚ 0.0.0.0:443 (HTTPS)       â”‚  â”‚
      â”‚  â”‚   â€¢ SSL termination (Let's Encrypt)    â”‚  â”‚
      â”‚  â”‚   â€¢ Ğ Ğ°Ğ·Ğ´Ğ°ĞµÑ‚ React dist/                â”‚  â”‚
      â”‚  â”‚   â€¢ Reverse proxy /api/* â†’ :5000       â”‚  â”‚
      â”‚  â”‚   â€¢ Gzip compression                   â”‚  â”‚
      â”‚  â”‚   â€¢ ĞšÑÑˆĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ static assets          â”‚  â”‚
      â”‚  â”‚   â€¢ ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° SPA routing              â”‚  â”‚
      â”‚  â”‚                                         â”‚  â”‚
      â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
      â”‚                 â”‚                              â”‚
      â”‚                 â”‚ HTTP (Ğ²Ğ½ÑƒÑ‚Ñ€Ğ¸ ÑĞµÑ€Ğ²ĞµÑ€Ğ°)        â”‚
      â”‚                 â”‚ localhost:80 â†’ :5000         â”‚
      â”‚                 â”‚                              â”‚
      â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
      â”‚  â”‚                                         â”‚  â”‚
      â”‚  â”‚   NODE.JS (Express.js)                  â”‚  â”‚
      â”‚  â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                    â”‚  â”‚
      â”‚  â”‚   Port: 5000                            â”‚  â”‚
      â”‚  â”‚   Instances: 2 (PM2 cluster)            â”‚  â”‚
      â”‚  â”‚                                         â”‚  â”‚
      â”‚  â”‚   â€¢ JWT Ğ°ÑƒÑ‚ĞµĞ½Ñ‚Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ñ                  â”‚  â”‚
      â”‚  â”‚   â€¢ CORS middleware                     â”‚  â”‚
      â”‚  â”‚   â€¢ Request validation                  â”‚  â”‚
      â”‚  â”‚   â€¢ CRUD Ğ¾Ğ¿ĞµÑ€Ğ°Ñ†Ğ¸Ğ¸                       â”‚  â”‚
      â”‚  â”‚   â€¢ File upload/download (S3)           â”‚  â”‚
      â”‚  â”‚   â€¢ Error handling                      â”‚  â”‚
      â”‚  â”‚   â€¢ Health check endpoint               â”‚  â”‚
      â”‚  â”‚                                         â”‚  â”‚
      â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
      â”‚                 â”‚                              â”‚
      â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
      â”‚   â”‚             â”‚                   â”‚          â”‚
      â”‚   â–¼             â–¼                   â–¼          â”‚
      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚             â”‚                   â”‚
          â”‚             â”‚                   â”‚
    â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”
    â”‚           â”‚  â”‚            â”‚  â”‚            â”‚
    â”‚PostgreSQL â”‚  â”‚  S3        â”‚  â”‚  Syslog/   â”‚
    â”‚Database   â”‚  â”‚  Storage   â”‚  â”‚  Monitoringâ”‚
    â”‚           â”‚  â”‚            â”‚  â”‚            â”‚
    â”‚(Yandex    â”‚  â”‚(Cloud.ru   â”‚  â”‚(Optional)  â”‚
    â”‚ Cloud)    â”‚  â”‚ or Yandex  â”‚  â”‚            â”‚
    â”‚           â”‚  â”‚ Cloud S3)  â”‚  â”‚            â”‚
    â”‚TCP 6432   â”‚  â”‚            â”‚  â”‚            â”‚
    â”‚(SSL)      â”‚  â”‚            â”‚  â”‚            â”‚
    â”‚           â”‚  â”‚            â”‚  â”‚            â”‚
    â”‚â€¢ users    â”‚  â”‚â€¢ employees â”‚  â”‚â€¢ app logs  â”‚
    â”‚â€¢ employeesâ”‚  â”‚  documents â”‚  â”‚â€¢ errors    â”‚
    â”‚â€¢ passes   â”‚  â”‚â€¢ photos    â”‚  â”‚            â”‚
    â”‚â€¢ files    â”‚  â”‚â€¢ reports   â”‚  â”‚            â”‚
    â”‚â€¢ logs     â”‚  â”‚            â”‚  â”‚            â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 2. ĞŸĞ¾Ñ‚Ğ¾Ğº Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ°: Ğ—Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ° ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ñ‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          Ğ‘Ğ ĞĞ£Ğ—Ğ•Ğ                                     â”‚
â”‚                                                                     â”‚
â”‚  1. ĞŸĞ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒ Ğ²Ğ²Ğ¾Ğ´Ğ¸Ñ‚: https://yourdomain.com                   â”‚
â”‚     Press Enter                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â”‚ HTTP/2 GET / (HTTPS 443)
                     â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                       â”‚
â”‚  NGINX Ğ½Ğ° VPS                                                        â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                       â”‚
â”‚  1. ĞŸĞ¾Ğ»ÑƒÑ‡Ğ°ĞµÑ‚ Ğ·Ğ°Ğ¿Ñ€Ğ¾Ñ Ğ½Ğ° Ğ¿Ğ¾Ñ€Ñ‚ 443                                      â”‚
â”‚  2. TLS handshake (Let's Encrypt ÑĞµÑ€Ñ‚Ğ¸Ñ„Ğ¸ĞºĞ°Ñ‚)                         â”‚
â”‚  3. ĞĞ½Ğ°Ğ»Ğ¸Ğ·Ğ¸Ñ€ÑƒĞµÑ‚ path: / â†’ Ğ½Ğµ ÑĞ¾Ğ²Ğ¿Ğ°Ğ´Ğ°ĞµÑ‚ /api/                        â”‚
â”‚  4. ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑĞµÑ‚ location /                                             â”‚
â”‚  5. try_files $uri $uri/ /index.html                                â”‚
â”‚  6. Ğ˜Ñ‰ĞµÑ‚ Ñ„Ğ°Ğ¹Ğ»: /var/www/passdesk/dist/index.html                   â”‚
â”‚  7. ĞĞ°Ñ…Ğ¾Ğ´Ğ¸Ñ‚ index.html                                               â”‚
â”‚  8. Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ»ÑĞµÑ‚ Ğ·Ğ°Ğ³Ğ¾Ğ»Ğ¾Ğ²ĞºĞ¸:                                             â”‚
â”‚     - Content-Type: text/html; charset=utf-8                        â”‚
â”‚     - Content-Encoding: gzip (ĞµÑĞ»Ğ¸ Ğ¿Ñ€Ğ¸Ğ¼ĞµĞ½Ğ¸Ğ¼Ğ¾)                       â”‚
â”‚     - Cache-Control: no-cache (Ğ´Ğ»Ñ index.html)                      â”‚
â”‚  9. Ğ’Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‰Ğ°ĞµÑ‚ 200 OK + HTML                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â”‚ HTTP/2 200 OK (index.html + 15KB gzipped)
                     â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          Ğ‘Ğ ĞĞ£Ğ—Ğ•Ğ                                      â”‚
â”‚                                                                      â”‚
â”‚  1. ĞŸĞ¾Ğ»ÑƒÑ‡Ğ°ĞµÑ‚ index.html                                              â”‚
â”‚  2. ĞŸĞ°Ñ€ÑĞ¸Ñ‚ HTML:                                                     â”‚
â”‚     - Ğ’Ğ¸Ğ´Ğ¸Ñ‚ <script src="/static/main.js"></script>                 â”‚
â”‚     - Ğ’Ğ¸Ğ´Ğ¸Ñ‚ <link rel="stylesheet" href="/static/style.css">        â”‚
â”‚  3. Ğ—Ğ°Ğ¿Ñ€Ğ°ÑˆĞ¸Ğ²Ğ°ĞµÑ‚ /static/main.js (HTTPS 443)                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â”‚ HTTP/2 GET /static/main.js
                     â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                       â”‚
â”‚  NGINX                                                                â”‚
â”‚  â”€â”€â”€â”€â”€                                                                â”‚
â”‚  1. ĞŸĞ¾Ğ»ÑƒÑ‡Ğ°ĞµÑ‚ Ğ·Ğ°Ğ¿Ñ€Ğ¾Ñ Ğ½Ğ° /static/main.js                               â”‚
â”‚  2. ĞœĞ°Ñ‚Ñ‡Ğ¸Ñ‚ location ~* \.(js|css|png|...) $                         â”‚
â”‚  3. Ğ˜Ñ‰ĞµÑ‚ Ñ„Ğ°Ğ¹Ğ»: /var/www/passdesk/dist/static/main.js                â”‚
â”‚  4. ĞĞ°Ñ…Ğ¾Ğ´Ğ¸Ñ‚ Ñ„Ğ°Ğ¹Ğ» (~500KB)                                            â”‚
â”‚  5. Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ»ÑĞµÑ‚ Ğ·Ğ°Ğ³Ğ¾Ğ»Ğ¾Ğ²ĞºĞ¸:                                             â”‚
â”‚     - Content-Type: application/javascript                           â”‚
â”‚     - Cache-Control: public, max-age=31536000 (1 Ğ³Ğ¾Ğ´)                â”‚
â”‚     - ETag: "abc123..."                                              â”‚
â”‚     - Content-Encoding: gzip (~150KB)                                â”‚
â”‚  6. Ğ’Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‰Ğ°ĞµÑ‚ 200 OK + main.js (gzipped)                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â”‚ HTTP/2 200 OK (main.js ~150KB gzipped)
                     â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          Ğ‘Ğ ĞĞ£Ğ—Ğ•Ğ                                      â”‚
â”‚                                                                      â”‚
â”‚  1. ĞšÑÑˆĞ¸Ñ€ÑƒĞµÑ‚ main.js Ğ½Ğ° 1 Ğ³Ğ¾Ğ´ (Cache-Control)                       â”‚
â”‚  2. ĞŸĞ°Ñ€ÑĞ¸Ñ‚ Ğ¸ Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½ÑĞµÑ‚ JavaScript                                    â”‚
â”‚  3. React Ğ¸Ğ½Ğ¸Ñ†Ğ¸Ğ°Ğ»Ğ¸Ğ·Ğ¸Ñ€ÑƒĞµÑ‚ÑÑ                                           â”‚
â”‚  4. ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑĞµÑ‚ localStorage â†’ Ğ½ĞµÑ‚ JWT Ñ‚Ğ¾ĞºĞµĞ½Ğ°                          â”‚
â”‚  5. ĞŸĞ¾ĞºĞ°Ğ·Ñ‹Ğ²Ğ°ĞµÑ‚ ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ñƒ Ğ»Ğ¾Ğ³Ğ¸Ğ½Ğ°                                       â”‚
â”‚  6. Ğ“Ğ¾Ñ‚Ğ¾Ğ² Ğº Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸ÑĞ¼ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 3. ĞŸĞ¾Ñ‚Ğ¾Ğº Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ°: ĞÑƒÑ‚ĞµĞ½Ñ‚Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ñ (Ğ›Ğ¾Ğ³Ğ¸Ğ½)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          Ğ‘Ğ ĞĞ£Ğ—Ğ•Ğ                                  â”‚
â”‚                                                                  â”‚
â”‚  ĞŸĞ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒ:                                                   â”‚
â”‚  â€¢ Ğ’Ğ²Ğ¾Ğ´Ğ¸Ñ‚ email: admin@example.com                              â”‚
â”‚  â€¢ Ğ’Ğ²Ğ¾Ğ´Ğ¸Ñ‚ Ğ¿Ğ°Ñ€Ğ¾Ğ»ÑŒ: â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢                                       â”‚
â”‚  â€¢ ĞĞ°Ğ¶Ğ¸Ğ¼Ğ°ĞµÑ‚ ĞºĞ½Ğ¾Ğ¿ĞºÑƒ "Ğ›Ğ¾Ğ³Ğ¸Ğ½"                                       â”‚
â”‚                                                                  â”‚
â”‚  React handleLogin():                                            â”‚
â”‚  â€¢ Ğ’Ğ°Ğ»Ğ¸Ğ´Ğ¸Ñ€ÑƒĞµÑ‚ Ñ„Ğ¾Ñ€Ğ¼Ñƒ                                              â”‚
â”‚  â€¢ Ğ’Ñ‹Ğ·Ñ‹Ğ²Ğ°ĞµÑ‚ API.post('/api/v1/auth/login', {...})                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â”‚ HTTP/2 POST /api/v1/auth/login (HTTPS)
                   â”‚ Body: { email, password }
                   â”‚ Content-Type: application/json
                   â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                  â”‚
â”‚  NGINX                                                           â”‚
â”‚  â”€â”€â”€â”€                                                            â”‚
â”‚  1. ĞŸĞ¾Ğ»ÑƒÑ‡Ğ°ĞµÑ‚ POST Ğ·Ğ°Ğ¿Ñ€Ğ¾Ñ                                         â”‚
â”‚  2. ĞœĞ°Ñ‚Ñ‡Ğ¸Ñ‚ location /api/                                        â”‚
â”‚  3. ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑĞµÑ‚ Ğ·Ğ°Ğ³Ğ¾Ğ»Ğ¾Ğ²ĞºĞ¸ (Ğ½Ğµ Ñ‚Ñ€ĞµĞ±ÑƒĞµÑ‚ÑÑ Authorization Ğ´Ğ»Ñ /login)  â”‚
â”‚  4. ĞŸÑ€Ğ¾ĞºÑĞ¸Ñ€ÑƒĞµÑ‚ Ğ½Ğ° http://localhost:5000/api/v1/auth/login       â”‚
â”‚  5. ĞŸĞµÑ€ĞµĞ´Ğ°ĞµÑ‚:                                                    â”‚
â”‚     - Host: yourdomain.com                                       â”‚
â”‚     - X-Real-IP: client-ip                                       â”‚
â”‚     - X-Forwarded-For: client-ip                                 â”‚
â”‚     - X-Forwarded-Proto: https                                   â”‚
â”‚     - Body: { email, password }                                  â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â”‚ HTTP POST /api/v1/auth/login (localhost:5000)
                   â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                 â”‚
â”‚  EXPRESS (Node.js)                                              â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                 â”‚
â”‚                                                                 â”‚
â”‚  1. middleware/auth.js (ĞŸĞ ĞĞŸĞ£Ğ¡ĞšĞĞ•Ğ¢ - Ğ½ĞµÑ‚ Authorization)        â”‚
â”‚                                                                 â”‚
â”‚  2. middleware/validation.js                                   â”‚
â”‚     - Ğ’Ğ°Ğ»Ğ¸Ğ´Ğ¸Ñ€ÑƒĞµÑ‚ body: email, password                          â”‚
â”‚     - Ğ•ÑĞ»Ğ¸ Ğ½ĞµĞ²Ğ°Ğ»Ğ¸Ğ´Ğ½Ğ¾ â†’ 400 Bad Request                          â”‚
â”‚                                                                 â”‚
â”‚  3. routes/auth.js â†’ authController.login()                    â”‚
â”‚     a) ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑĞµÑ‚ email Ğ² Ğ‘Ğ”:                                    â”‚
â”‚        SELECT * FROM users WHERE email = $1                    â”‚
â”‚                                                                 â”‚
â”‚     b) Ğ•ÑĞ»Ğ¸ Ğ½Ğµ Ğ½Ğ°Ğ¹Ğ´ĞµĞ½:                                          â”‚
â”‚        â†’ 401 Unauthorized                                       â”‚
â”‚                                                                 â”‚
â”‚     c) Ğ•ÑĞ»Ğ¸ Ğ½Ğ°Ğ¹Ğ´ĞµĞ½, Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ÑĞµÑ‚ Ğ¿Ğ°Ñ€Ğ¾Ğ»ÑŒ:                          â”‚
â”‚        bcrypt.compare(password, password_hash)                  â”‚
â”‚                                                                 â”‚
â”‚     d) Ğ•ÑĞ»Ğ¸ Ğ¿Ğ°Ñ€Ğ¾Ğ»ÑŒ Ğ½ĞµĞ²ĞµÑ€Ğ½Ñ‹Ğ¹:                                    â”‚
â”‚        â†’ 401 Unauthorized                                       â”‚
â”‚                                                                 â”‚
â”‚     e) Ğ•ÑĞ»Ğ¸ Ğ²ĞµÑ€Ğ½Ğ¾, Ğ³ĞµĞ½ĞµÑ€Ğ¸Ñ€ÑƒĞµÑ‚ JWT Ñ‚Ğ¾ĞºĞµĞ½:                       â”‚
â”‚        jwt.sign({ sub: user_id, role: 'admin' }, JWT_SECRET,   â”‚
â”‚                 { expiresIn: '7d' })                            â”‚
â”‚        Result: eyJhbGc.eyJz.SflKxwRJ...                        â”‚
â”‚                                                                 â”‚
â”‚  4. Ğ’Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‰Ğ°ĞµÑ‚ Ğ¾Ñ‚Ğ²ĞµÑ‚:                                           â”‚
â”‚     {                                                           â”‚
â”‚       success: true,                                            â”‚
â”‚       token: "eyJhbGc...",                                      â”‚
â”‚       user: {                                                   â”‚
â”‚         id: "123e4567-e89b-12d3-a456-426614174000",             â”‚
â”‚         email: "admin@example.com",                             â”‚
â”‚         role: "admin"                                           â”‚
â”‚       }                                                         â”‚
â”‚     }                                                           â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â”‚ HTTP/2 200 OK (JSON)
                   â”‚ Content-Type: application/json
                   â”‚ Content-Encoding: gzip
                   â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          Ğ‘Ğ ĞĞ£Ğ—Ğ•Ğ                                 â”‚
â”‚                                                                 â”‚
â”‚  1. ĞŸĞ¾Ğ»ÑƒÑ‡Ğ°ĞµÑ‚ Ğ¾Ñ‚Ğ²ĞµÑ‚:                                             â”‚
â”‚     { success: true, token: "eyJhbGc...", user: {...} }         â”‚
â”‚                                                                 â”‚
â”‚  2. React handleLoginResponse():                                â”‚
â”‚     â€¢ Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½ÑĞµÑ‚ Ñ‚Ğ¾ĞºĞµĞ½ Ğ² localStorage                            â”‚
â”‚       localStorage.setItem('token', 'eyJhbGc...')               â”‚
â”‚     â€¢ Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½ÑĞµÑ‚ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ Ğ² state (Zustand store)            â”‚
â”‚     â€¢ Ğ ĞµĞ´Ğ¸Ñ€ĞµĞºÑ‚ Ğ½Ğ° /employees                                    â”‚
â”‚                                                                 â”‚
â”‚  3. Ğ‘Ñ€Ğ°ÑƒĞ·ĞµÑ€ Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²Ğ»ÑĞµÑ‚ GET /employees                           â”‚
â”‚     (Ñ Ñ‚Ğ¾ĞºĞµĞ½Ğ¾Ğ¼ Ğ² Authorization Ğ·Ğ°Ğ³Ğ¾Ğ»Ğ¾Ğ²ĞºĞµ)                       â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 4. ĞŸĞ¾Ñ‚Ğ¾Ğº Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ°: ĞŸĞ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… Ñ Ñ‚Ğ¾ĞºĞµĞ½Ğ¾Ğ¼

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          Ğ‘Ğ ĞĞ£Ğ—Ğ•Ğ                                â”‚
â”‚                                                                â”‚
â”‚  React ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ğ°: /employees                                    â”‚
â”‚  â€¢ Ğ’ localStorage ĞµÑÑ‚ÑŒ Ñ‚Ğ¾ĞºĞµĞ½: "eyJhbGc..."                     â”‚
â”‚                                                                â”‚
â”‚  React useEffect(() => {                                       â”‚
â”‚    API.get('/api/v1/employees')                                â”‚
â”‚  })                                                             â”‚
â”‚                                                                â”‚
â”‚  Axios Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ÑĞµÑ‚ Ñ‚Ğ¾ĞºĞµĞ½ Ğ² Ğ·Ğ°Ğ³Ğ¾Ğ»Ğ¾Ğ²Ğ¾Ğº:                            â”‚
â”‚  Authorization: Bearer eyJhbGc...                               â”‚
â”‚                                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â”‚ HTTP/2 GET /api/v1/employees
                  â”‚ Headers:
                  â”‚   Authorization: Bearer eyJhbGc...
                  â”‚   Content-Type: application/json
                  â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                â”‚
â”‚  NGINX                                                         â”‚
â”‚  â”€â”€â”€â”€                                                          â”‚
â”‚  1. ĞŸĞ¾Ğ»ÑƒÑ‡Ğ°ĞµÑ‚ Ğ·Ğ°Ğ¿Ñ€Ğ¾Ñ Ñ Authorization Ğ·Ğ°Ğ³Ğ¾Ğ»Ğ¾Ğ²ĞºĞ¾Ğ¼                 â”‚
â”‚  2. ĞœĞ°Ñ‚Ñ‡Ğ¸Ñ‚ location /api/                                      â”‚
â”‚  3. ĞŸÑ€Ğ¾ĞºÑĞ¸Ñ€ÑƒĞµÑ‚ Ğ½Ğ° http://localhost:5000/api/v1/employees      â”‚
â”‚  4. ĞŸĞµÑ€ĞµĞ´Ğ°ĞµÑ‚ Ğ²ÑĞµ Ğ·Ğ°Ğ³Ğ¾Ğ»Ğ¾Ğ²ĞºĞ¸ (Ğ²ĞºĞ»ÑÑ‡Ğ°Ñ Authorization)             â”‚
â”‚                                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â”‚ HTTP GET /api/v1/employees
                  â”‚ Headers: Authorization: Bearer eyJhbGc...
                  â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                â”‚
â”‚  EXPRESS (Node.js)                                             â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                â”‚
â”‚                                                                â”‚
â”‚  1. middleware/auth.js (createAuthMiddleware):                 â”‚
â”‚     a) ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑĞµÑ‚ Ğ·Ğ°Ğ³Ğ¾Ğ»Ğ¾Ğ²Ğ¾Ğº: Authorization: Bearer ...         â”‚
â”‚     b) Ğ˜Ğ·Ğ²Ğ»ĞµĞºĞ°ĞµÑ‚ Ñ‚Ğ¾ĞºĞµĞ½: "eyJhbGc..."                           â”‚
â”‚     c) Ğ’ĞµÑ€Ğ¸Ñ„Ğ¸Ñ†Ğ¸Ñ€ÑƒĞµÑ‚ JWT:                                       â”‚
â”‚        jwt.verify(token, JWT_SECRET)                           â”‚
â”‚        Result: { sub: '123...', role: 'admin', iat: ..., exp: ... }
â”‚     d) ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑĞµÑ‚ exp (expiration time):                        â”‚
â”‚        if (now > exp) â†’ 401 Unauthorized ("Token expired")     â”‚
â”‚     e) Ğ•ÑĞ»Ğ¸ Ğ²ĞµÑ€Ğ½Ğ¾, Ğ¿Ñ€Ğ¸ÑĞ¾ĞµĞ´Ğ¸Ğ½ÑĞµÑ‚:                               â”‚
â”‚        req.user = { id: '123...', role: 'admin' }              â”‚
â”‚     f) Ğ’Ñ‹Ğ·Ñ‹Ğ²Ğ°ĞµÑ‚ next() Ğ´Ğ»Ñ ÑĞ»ĞµĞ´ÑƒÑÑ‰ĞµĞ³Ğ¾ middleware               â”‚
â”‚                                                                â”‚
â”‚  2. middleware/validation.js:                                  â”‚
â”‚     - Ğ’Ğ°Ğ»Ğ¸Ğ´Ğ¸Ñ€ÑƒĞµÑ‚ query Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ñ‹ (ĞµÑĞ»Ğ¸ ĞµÑÑ‚ÑŒ)                   â”‚
â”‚                                                                â”‚
â”‚  3. routes/employees.js â†’ employeeController.getAll()          â”‚
â”‚     a) ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑĞµÑ‚ Ñ€Ğ¾Ğ»ÑŒ:                                         â”‚
â”‚        if (req.user.role === 'admin') {                        â”‚
â”‚          // Ğ”Ğ¾ÑÑ‚Ğ°Ğ½ĞµÑ‚ Ğ²ÑĞµÑ… ÑĞ¾Ñ‚Ñ€ÑƒĞ´Ğ½Ğ¸ĞºĞ¾Ğ²                          â”‚
â”‚        } else if (req.user.role === 'user') {                  â”‚
â”‚          // Ğ”Ğ¾ÑÑ‚Ğ°Ğ½ĞµÑ‚ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ ÑĞ²Ğ¾Ğ¸Ñ… ÑĞ¾Ñ‚Ñ€ÑƒĞ´Ğ½Ğ¸ĞºĞ¾Ğ²                  â”‚
â”‚        }                                                       â”‚
â”‚     b) Ğ’Ñ‹Ğ¿Ğ¾Ğ»Ğ½ÑĞµÑ‚ SQL query:                                    â”‚
â”‚        SELECT * FROM employees                                â”‚
â”‚        WHERE created_by = $1 (ĞµÑĞ»Ğ¸ user role)                 â”‚
â”‚        ORDER BY last_name                                     â”‚
â”‚     c) ĞĞ±Ñ€Ğ°Ğ±Ğ°Ñ‚Ñ‹Ğ²Ğ°ĞµÑ‚ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ñ‹                                 â”‚
â”‚                                                                â”‚
â”‚  4. middleware/errorHandler.js (ĞµÑĞ»Ğ¸ Ğ¾ÑˆĞ¸Ğ±ĞºĞ°):                  â”‚
â”‚     - Ğ›Ğ¾Ğ³Ğ¸Ñ€ÑƒĞµÑ‚ Ğ¾ÑˆĞ¸Ğ±ĞºÑƒ                                          â”‚
â”‚     - Ğ’Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‰Ğ°ĞµÑ‚ JSON Ñ ĞºĞ¾Ğ´Ğ¾Ğ¼ Ğ¾ÑˆĞ¸Ğ±ĞºĞ¸                           â”‚
â”‚                                                                â”‚
â”‚  5. Ğ’Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‰Ğ°ĞµÑ‚ Ğ¾Ñ‚Ğ²ĞµÑ‚:                                          â”‚
â”‚     {                                                          â”‚
â”‚       success: true,                                           â”‚
â”‚       employees: [                                             â”‚
â”‚         { id: '456...', firstName: 'Ğ˜Ğ²Ğ°Ğ½', lastName: 'Ğ˜Ğ²Ğ°Ğ½Ğ¾Ğ²', phone: '+7...', ... },
â”‚         { id: '789...', firstName: 'ĞŸĞµÑ‚Ñ€', lastName: 'ĞŸĞµÑ‚Ñ€Ğ¾Ğ²', phone: '+7...', ... },
â”‚         ...                                                     â”‚
â”‚       ]                                                        â”‚
â”‚     }                                                          â”‚
â”‚                                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â”‚ HTTP/2 200 OK (JSON ~10KB)
                  â”‚ Content-Type: application/json
                  â”‚ Content-Encoding: gzip (~3KB)
                  â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          Ğ‘Ğ ĞĞ£Ğ—Ğ•Ğ                                â”‚
â”‚                                                                â”‚
â”‚  1. ĞŸĞ¾Ğ»ÑƒÑ‡Ğ°ĞµÑ‚ ÑĞ¿Ğ¸ÑĞ¾Ğº ÑĞ¾Ñ‚Ñ€ÑƒĞ´Ğ½Ğ¸ĞºĞ¾Ğ²                                â”‚
â”‚  2. React Ñ€ĞµĞ½Ğ´Ğ¸Ñ€Ğ¸Ñ‚ Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†Ñƒ                                     â”‚
â”‚  3. ĞŸĞ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒ Ğ²Ğ¸Ğ´Ğ¸Ñ‚ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ                                  â”‚
â”‚                                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 5. ĞŸĞ¾Ñ‚Ğ¾Ğº Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ°: Ğ—Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ° Ñ„Ğ°Ğ¹Ğ»Ğ° (Upload to S3)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          Ğ‘Ğ ĞĞ£Ğ—Ğ•Ğ                               â”‚
â”‚                                                               â”‚
â”‚  ĞŸĞ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒ:                                                â”‚
â”‚  â€¢ Ğ’Ñ‹Ğ±Ğ¸Ñ€Ğ°ĞµÑ‚ Ñ„Ğ°Ğ¹Ğ»: passport.pdf (2MB)                          â”‚
â”‚  â€¢ ĞĞ°Ğ¶Ğ¸Ğ¼Ğ°ĞµÑ‚ ĞºĞ½Ğ¾Ğ¿ĞºÑƒ "Ğ—Ğ°Ğ³Ñ€ÑƒĞ·Ğ¸Ñ‚ÑŒ"                                â”‚
â”‚                                                               â”‚
â”‚  React handleFileUpload():                                    â”‚
â”‚  â€¢ Ğ¡Ğ¾Ğ·Ğ´Ğ°ĞµÑ‚ FormData                                           â”‚
â”‚  â€¢ Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ»ÑĞµÑ‚ Ñ„Ğ°Ğ¹Ğ» Ğ² FormData                                  â”‚
â”‚  â€¢ API.post('/api/v1/employees/123/upload', formData)         â”‚
â”‚    Headers Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ÑÑÑ‚ÑÑ:                         â”‚
â”‚    - Authorization: Bearer <token>                            â”‚
â”‚    - Content-Type: multipart/form-data; boundary=...          â”‚
â”‚                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â”‚ HTTP/2 POST /api/v1/employees/123/upload
                     â”‚ Headers:
                     â”‚   Authorization: Bearer <token>
                     â”‚   Content-Type: multipart/form-data
                     â”‚ Body: [Binary file data - 2MB]
                     â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                               â”‚
â”‚  NGINX                                                        â”‚
â”‚  â”€â”€â”€â”€                                                         â”‚
â”‚  1. ĞŸĞ¾Ğ»ÑƒÑ‡Ğ°ĞµÑ‚ POST Ğ·Ğ°Ğ¿Ñ€Ğ¾Ñ Ñ 2MB Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ¼                         â”‚
â”‚  2. ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑĞµÑ‚ client_max_body_size: 100M âœ“ (OK)             â”‚
â”‚  3. ĞŸÑ€Ğ¾ĞºÑĞ¸Ñ€ÑƒĞµÑ‚ Ğ½Ğ° http://localhost:5000                       â”‚
â”‚  4. ĞŸĞµÑ€ĞµĞ´Ğ°ĞµÑ‚:                                                 â”‚
â”‚     - Headers: Authorization, Content-Type                    â”‚
â”‚     - Body: 2MB Ğ±Ğ¸Ğ½Ğ°Ñ€Ğ½Ñ‹Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ                               â”‚
â”‚     - proxy_read_timeout: 30s                                 â”‚
â”‚                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â”‚ HTTP POST /api/v1/employees/123/upload
                     â”‚ Body: 2MB file data
                     â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                              â”‚
â”‚  EXPRESS (Node.js)                                           â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                              â”‚
â”‚                                                              â”‚
â”‚  1. middleware/auth.js:                                      â”‚
â”‚     âœ“ ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑĞµÑ‚ Ñ‚Ğ¾ĞºĞµĞ½ (ĞºĞ°Ğº Ğ² Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€Ğµ Ğ²Ñ‹ÑˆĞµ)                  â”‚
â”‚                                                              â”‚
â”‚  2. middleware (multer - Ğ´Ğ»Ñ file upload):                   â”‚
â”‚     â€¢ ĞŸĞ°Ñ€ÑĞ¸Ñ‚ multipart/form-data                             â”‚
â”‚     â€¢ Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½ÑĞµÑ‚ Ñ„Ğ°Ğ¹Ğ» Ğ² /tmp/upload_123456.pdf                â”‚
â”‚                                                              â”‚
â”‚  3. routes/employees.js â†’ employeeController.uploadFile()    â”‚
â”‚     a) ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑĞµÑ‚, Ñ‡Ñ‚Ğ¾ Ñ„Ğ°Ğ¹Ğ» Ğ·Ğ°Ğ³Ñ€ÑƒĞ¶ĞµĞ½:                        â”‚
â”‚        if (!req.file) â†’ 400 Bad Request                      â”‚
â”‚                                                              â”‚
â”‚     b) Ğ“ĞµĞ½ĞµÑ€Ğ¸Ñ€ÑƒĞµÑ‚ S3 ĞºĞ»ÑÑ‡:                                   â”‚
â”‚        s3Key = `employees/${employeeId}/passport_${Date.now()}.pdf`
â”‚        Result: `employees/123/passport_1674234567000.pdf`    â”‚
â”‚                                                              â”‚
â”‚     c) Ğ’Ñ‹Ğ·Ñ‹Ğ²Ğ°ĞµÑ‚ fileService.uploadToS3(filePath, s3Key)      â”‚
â”‚                                                              â”‚
â”‚  4. services/fileService.js:                                 â”‚
â”‚     a) Ğ˜Ğ½Ğ¸Ñ†Ğ¸Ğ°Ğ»Ğ¸Ğ·Ğ¸Ñ€ÑƒĞµÑ‚ S3 ĞºĞ»Ğ¸ĞµĞ½Ñ‚ Ñ ĞºĞ»ÑÑ‡Ğ°Ğ¼Ğ¸:                  â”‚
â”‚        const s3 = new S3Client({                             â”‚
â”‚          credentials: {                                      â”‚
â”‚            accessKeyId: process.env.S3_ACCESS_KEY,           â”‚
â”‚            secretAccessKey: process.env.S3_SECRET_KEY        â”‚
â”‚          },                                                  â”‚
â”‚          region: process.env.S3_REGION                       â”‚
â”‚        })                                                    â”‚
â”‚     b) Ğ—Ğ°Ğ³Ñ€ÑƒĞ¶Ğ°ĞµÑ‚ Ñ„Ğ°Ğ¹Ğ» Ğ½Ğ° S3:                                 â”‚
â”‚        PUT /passdesk-files/employees/123/passport_....pdf    â”‚
â”‚        Body: <file binary 2MB>                               â”‚
â”‚     c) S3 Ğ¿Ğ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ¶Ğ´Ğ°ĞµÑ‚ Ğ·Ğ°Ğ³Ñ€ÑƒĞ·ĞºÑƒ â†’ ETag: "abc123..."         â”‚
â”‚     d) Ğ“ĞµĞ½ĞµÑ€Ğ¸Ñ€ÑƒĞµÑ‚ Ğ¿Ğ¾Ğ´Ğ¿Ğ¸ÑĞ°Ğ½Ğ½Ñ‹Ğ¹ URL (Ğ½Ğ° 1 Ñ‡Ğ°Ñ):               â”‚
â”‚        https://storage.yandex.../passdesk-files/employees/123/passport_....pdf?X-Amz-Signature=...
â”‚     e) Ğ’Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‰Ğ°ĞµÑ‚ { s3Key, signedUrl }                      â”‚
â”‚                                                              â”‚
â”‚  5. employeeController.uploadFile() (Ğ¿Ñ€Ğ¾Ğ´Ğ¾Ğ»Ğ¶ĞµĞ½Ğ¸Ğµ):           â”‚
â”‚     a) Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½ÑĞµÑ‚ Ğ·Ğ°Ğ¿Ğ¸ÑÑŒ Ğ² Ğ‘Ğ” (files Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†Ğ°):               â”‚
â”‚        INSERT INTO files (...) VALUES (...)                 â”‚
â”‚     b) ĞĞ±Ğ½Ğ¾Ğ²Ğ»ÑĞµÑ‚ Ğ·Ğ°Ğ¿Ğ¸ÑÑŒ Ğ² employees Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†Ğµ:                â”‚
â”‚        UPDATE employees SET ... WHERE id = $1                â”‚
â”‚     c) Ğ’Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‰Ğ°ĞµÑ‚ Ğ¾Ñ‚Ğ²ĞµÑ‚:                                     â”‚
â”‚        {                                                     â”‚
â”‚          success: true,                                      â”‚
â”‚          file: {                                             â”‚
â”‚            id: '999...',                                     â”‚
â”‚            name: 'passport.pdf',                             â”‚
â”‚            size: 2097152,                                    â”‚
â”‚            s3Url: 'https://storage.yandex.../...'           â”‚
â”‚          }                                                   â”‚
â”‚        }                                                     â”‚
â”‚                                                              â”‚
â”‚  6. Ğ£Ğ´Ğ°Ğ»ÑĞµÑ‚ Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ½Ñ‹Ğ¹ Ñ„Ğ°Ğ¹Ğ»: /tmp/upload_123456.pdf           â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â”‚ HTTP/2 200 OK (JSON ~500B)
                     â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          Ğ‘Ğ ĞĞ£Ğ—Ğ•Ğ                               â”‚
â”‚                                                               â”‚
â”‚  1. ĞŸĞ¾Ğ»ÑƒÑ‡Ğ°ĞµÑ‚ Ğ¾Ñ‚Ğ²ĞµÑ‚ Ñ URL Ñ„Ğ°Ğ¹Ğ»Ğ°                                â”‚
â”‚  2. React handleFileUploadSuccess():                          â”‚
â”‚     â€¢ Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½ÑĞµÑ‚ URL Ğ² state                                   â”‚
â”‚     â€¢ ĞŸĞ¾ĞºĞ°Ğ·Ñ‹Ğ²Ğ°ĞµÑ‚ preview Ñ„Ğ°Ğ¹Ğ»Ğ°                                â”‚
â”‚     â€¢ ĞŸĞ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒ Ğ²Ğ¸Ğ´Ğ¸Ñ‚: "âœ“ Ğ¤Ğ°Ğ¹Ğ» ÑƒÑĞ¿ĞµÑˆĞ½Ğ¾ Ğ·Ğ°Ğ³Ñ€ÑƒĞ¶ĞµĞ½"          â”‚
â”‚  3. Ğ¤Ğ°Ğ¹Ğ» Ğ´Ğ¾ÑÑ‚ÑƒĞ¿ĞµĞ½ Ğ´Ğ»Ñ ÑĞºĞ°Ñ‡Ğ¸Ğ²Ğ°Ğ½Ğ¸Ñ Ğ¿Ğ¾ s3Url                     â”‚
â”‚                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 6. Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ² PostgreSQL

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                 â”‚
â”‚  DATABASE: passdesk_prod (Ğ½Ğ° Yandex Cloud)                      â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                                                            â”‚ â”‚
â”‚  â”‚  TABLE: users                                             â”‚ â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                           â”‚ â”‚
â”‚  â”‚  id (UUID) PRIMARY KEY                                    â”‚ â”‚
â”‚  â”‚  email VARCHAR UNIQUE                                     â”‚ â”‚
â”‚  â”‚  password_hash VARCHAR                                    â”‚ â”‚
â”‚  â”‚  role ENUM('admin', 'manager', 'user')                   â”‚ â”‚
â”‚  â”‚  created_at TIMESTAMP                                     â”‚ â”‚
â”‚  â”‚  updated_at TIMESTAMP                                     â”‚ â”‚
â”‚  â”‚                                                            â”‚ â”‚
â”‚  â”‚  ĞŸÑ€Ğ¸Ğ¼ĞµÑ€:                                                  â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚ â”‚
â”‚  â”‚  â”‚ id   â”‚ email              â”‚ role  â”‚   â”‚                â”‚ â”‚
â”‚  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚                â”‚ â”‚
â”‚  â”‚  â”‚ 123e â”‚ admin@example.com  â”‚admin  â”‚   â”‚                â”‚ â”‚
â”‚  â”‚  â”‚ 456e â”‚ user@example.com   â”‚user   â”‚   â”‚                â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚ â”‚
â”‚  â”‚                                                            â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                                                            â”‚ â”‚
â”‚  â”‚  TABLE: employees                                         â”‚ â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                       â”‚ â”‚
â”‚  â”‚  id (UUID) PRIMARY KEY                                    â”‚ â”‚
â”‚  â”‚  last_name VARCHAR NOT NULL                               â”‚ â”‚
â”‚  â”‚  first_name VARCHAR NOT NULL                              â”‚ â”‚
â”‚  â”‚  middle_name VARCHAR                                      â”‚ â”‚
â”‚  â”‚  phone VARCHAR                                            â”‚ â”‚
â”‚  â”‚  citizenship_id UUID REFERENCES citizenships(id)          â”‚ â”‚
â”‚  â”‚  birth_date DATE                                          â”‚ â”‚
â”‚  â”‚  passport_number VARCHAR                                  â”‚ â”‚
â”‚  â”‚  passport_date DATE                                       â”‚ â”‚
â”‚  â”‚  inn VARCHAR                                              â”‚ â”‚
â”‚  â”‚  snils VARCHAR                                            â”‚ â”‚
â”‚  â”‚  status_card ENUM('draft', 'active', 'inactive')         â”‚ â”‚
â”‚  â”‚  is_fired BOOLEAN                                         â”‚ â”‚
â”‚  â”‚  created_by UUID REFERENCES users(id)                     â”‚ â”‚
â”‚  â”‚  created_at TIMESTAMP                                     â”‚ â”‚
â”‚  â”‚  updated_at TIMESTAMP                                     â”‚ â”‚
â”‚  â”‚                                                            â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                                                            â”‚ â”‚
â”‚  â”‚  TABLE: files                                             â”‚ â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                           â”‚ â”‚
â”‚  â”‚  id (UUID) PRIMARY KEY                                    â”‚ â”‚
â”‚  â”‚  employee_id UUID REFERENCES employees(id) ON DELETE      â”‚ â”‚
â”‚  â”‚  file_name VARCHAR                                        â”‚ â”‚
â”‚  â”‚  file_size INTEGER                                        â”‚ â”‚
â”‚  â”‚  s3_key VARCHAR (Ğ¿ÑƒÑ‚ÑŒ Ğ² S3)                               â”‚ â”‚
â”‚  â”‚  s3_url VARCHAR (Ğ¿Ğ¾Ğ´Ğ¿Ğ¸ÑĞ°Ğ½Ğ½Ñ‹Ğ¹ URL, ĞºÑÑˆĞ¸Ñ€ÑƒĞµÑ‚ÑÑ ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ¾Ğ¼)   â”‚ â”‚
â”‚  â”‚  created_at TIMESTAMP                                     â”‚ â”‚
â”‚  â”‚  updated_at TIMESTAMP                                     â”‚ â”‚
â”‚  â”‚                                                            â”‚ â”‚
â”‚  â”‚  ĞŸÑ€Ğ¸Ğ¼ĞµÑ€Ñ‹ s3_key:                                          â”‚ â”‚
â”‚  â”‚  â€¢ employees/123/passport_1674234567000.pdf               â”‚ â”‚
â”‚  â”‚  â€¢ employees/123/photo_1674234567001.jpg                  â”‚ â”‚
â”‚  â”‚  â€¢ employees/456/report_2024_q1.xlsx                      â”‚ â”‚
â”‚  â”‚                                                            â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                                                            â”‚ â”‚
â”‚  â”‚  TABLE: passes                                            â”‚ â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                         â”‚ â”‚
â”‚  â”‚  id (UUID) PRIMARY KEY                                    â”‚ â”‚
â”‚  â”‚  number VARCHAR UNIQUE                                    â”‚ â”‚
â”‚  â”‚  employee_id UUID REFERENCES employees(id) ON DELETE      â”‚ â”‚
â”‚  â”‚  status ENUM('draft', 'issued', 'revoked')               â”‚ â”‚
â”‚  â”‚  issue_date DATE                                          â”‚ â”‚
â”‚  â”‚  expiry_date DATE                                         â”‚ â”‚
â”‚  â”‚  created_at TIMESTAMP                                     â”‚ â”‚
â”‚  â”‚  updated_at TIMESTAMP                                     â”‚ â”‚
â”‚  â”‚                                                            â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                 â”‚
â”‚  ... Ğ´Ñ€ÑƒĞ³Ğ¸Ğµ Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†Ñ‹ ...                                        â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 7. S3 Ğ¥Ñ€Ğ°Ğ½Ğ¸Ğ»Ğ¸Ñ‰Ğµ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                           â”‚
â”‚  S3 Bucket: passdesk-files                                â”‚
â”‚  Endpoint: https://storage.yandexcloud.net                â”‚
â”‚  Region: ru-central1                                      â”‚
â”‚                                                           â”‚
â”‚  Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ°:                                               â”‚
â”‚                                                           â”‚
â”‚  passdesk-files/                                          â”‚
â”‚  â”œâ”€â”€ employees/                                           â”‚
â”‚  â”‚   â”œâ”€â”€ 123e-456/                    # employee_id      â”‚
â”‚  â”‚   â”‚   â”œâ”€â”€ passport_1674234567.pdf                     â”‚
â”‚  â”‚   â”‚   â”œâ”€â”€ photo_1674234568.jpg                        â”‚
â”‚  â”‚   â”‚   â””â”€â”€ documents_2024.zip                          â”‚
â”‚  â”‚   â”œâ”€â”€ 789e-123/                                       â”‚
â”‚  â”‚   â”‚   â”œâ”€â”€ passport_1674234600.pdf                     â”‚
â”‚  â”‚   â”‚   â””â”€â”€ ...                                         â”‚
â”‚  â”‚   â””â”€â”€ ...                                             â”‚
â”‚  â”‚                                                       â”‚
â”‚  â”œâ”€â”€ passes/                                              â”‚
â”‚  â”‚   â”œâ”€â”€ pass_001_1674234567.pdf                        â”‚
â”‚  â”‚   â””â”€â”€ ...                                             â”‚
â”‚  â”‚                                                       â”‚
â”‚  â”œâ”€â”€ reports/                                             â”‚
â”‚  â”‚   â”œâ”€â”€ report_2024_q1.xlsx                             â”‚
â”‚  â”‚   â”œâ”€â”€ report_2024_q2.xlsx                             â”‚
â”‚  â”‚   â””â”€â”€ ...                                             â”‚
â”‚  â”‚                                                       â”‚
â”‚  â””â”€â”€ backups/                   (Ğ¾Ğ¿Ñ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾)            â”‚
â”‚      â”œâ”€â”€ backup_2024-01-20.sql.gz                        â”‚
â”‚      â””â”€â”€ ...                                             â”‚
â”‚                                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ Ğ¿Ğ¾Ğ´Ğ¿Ğ¸ÑĞ°Ğ½Ğ½Ğ¾Ğ³Ğ¾ URL:
https://storage.yandexcloud.net/passdesk-files/employees/123e-456/passport.pdf?
  X-Amz-Algorithm=AWS4-HMAC-SHA256&
  X-Amz-Credential=YCAJ...&
  X-Amz-Date=20240123T103000Z&
  X-Amz-Expires=3600&
  X-Amz-SignedHeaders=host&
  X-Amz-Signature=abc123...

ĞŸĞ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ñ‹:
â€¢ X-Amz-Expires=3600 â†’ URL Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ñ‚ĞµĞ»ĞµĞ½ 1 Ñ‡Ğ°Ñ
â€¢ ĞŸĞ¾ÑĞ»Ğµ 1 Ñ‡Ğ°ÑĞ° â†’ 403 Access Denied
â€¢ ĞšĞ»Ğ¸ĞµĞ½Ñ‚ Ğ¼Ğ¾Ğ¶ĞµÑ‚ ÑĞºĞ°Ñ‡Ğ°Ñ‚ÑŒ Ñ„Ğ°Ğ¹Ğ» Ğ·Ğ° ÑÑ‚Ğ¾ Ğ²Ñ€ĞµĞ¼Ñ
```

---

## 8. Ğ–Ğ¸Ğ·Ğ½ĞµĞ½Ğ½Ñ‹Ğ¹ Ñ†Ğ¸ĞºĞ» Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ (PM2)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                              â”‚
â”‚  PM2 ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ÑĞµÑ‚ Ğ¿Ñ€Ğ¾Ñ†ĞµÑÑĞ°Ğ¼Ğ¸ Node.js                            â”‚
â”‚                                                              â”‚
â”‚  Ğ˜ĞĞ˜Ğ¦Ğ˜ĞĞ›Ğ˜Ğ—ĞĞ¦Ğ˜Ğ¯:                                              â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                              â”‚
â”‚  1. root@vps:~# pm2 start ecosystem.config.js                â”‚
â”‚     â€¢ Ğ§Ğ¸Ñ‚Ğ°ĞµÑ‚ ecosystem.config.js                             â”‚
â”‚     â€¢ instances: 2 â†’ Ğ·Ğ°Ğ¿ÑƒÑĞºĞ°ĞµÑ‚ 2 Ğ¿Ñ€Ğ¾Ñ†ĞµÑÑĞ°                    â”‚
â”‚     â€¢ exec_mode: 'cluster' â†’ Ğ±Ğ°Ğ»Ğ°Ğ½ÑĞ¸Ñ€Ğ¾Ğ²ĞºĞ° Ğ½Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ¸           â”‚
â”‚     â€¢ ĞŸÑ€Ğ¾Ñ†ĞµÑÑ 1 (PID: 1234) Ğ·Ğ°Ğ¿ÑƒÑ‰ĞµĞ½                          â”‚
â”‚     â€¢ ĞŸÑ€Ğ¾Ñ†ĞµÑÑ 2 (PID: 1235) Ğ·Ğ°Ğ¿ÑƒÑ‰ĞµĞ½                          â”‚
â”‚                                                              â”‚
â”‚  2. ĞšĞ°Ğ¶Ğ´Ñ‹Ğ¹ Ğ¿Ñ€Ğ¾Ñ†ĞµÑÑ:                                          â”‚
â”‚     â€¢ Ğ—Ğ°Ğ³Ñ€ÑƒĞ¶Ğ°ĞµÑ‚ .env                                         â”‚
â”‚     â€¢ ĞŸĞ¾Ğ´ĞºĞ»ÑÑ‡Ğ°ĞµÑ‚ÑÑ Ğº PostgreSQL                              â”‚
â”‚     â€¢ Ğ˜Ğ½Ğ¸Ñ†Ğ¸Ğ°Ğ»Ğ¸Ğ·Ğ¸Ñ€ÑƒĞµÑ‚ Express Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ                      â”‚
â”‚     â€¢ Ğ¡Ğ»ÑƒÑˆĞ°ĞµÑ‚ Ğ½Ğ° localhost:5000                              â”‚
â”‚                                                              â”‚
â”‚  3. PM2 Ğ²Ğ½ÑƒÑ‚Ñ€ĞµĞ½Ğ½Ğ¸Ğ¹ Ğ±Ğ°Ğ»Ğ°Ğ½ÑĞ¸Ñ€Ğ¾Ğ²Ñ‰Ğ¸Ğº (Round-Robin):              â”‚
â”‚     â€¢ Ğ—Ğ°Ğ¿Ñ€Ğ¾Ñ 1 â†’ ĞŸÑ€Ğ¾Ñ†ĞµÑÑ 1                                   â”‚
â”‚     â€¢ Ğ—Ğ°Ğ¿Ñ€Ğ¾Ñ 2 â†’ ĞŸÑ€Ğ¾Ñ†ĞµÑÑ 2                                   â”‚
â”‚     â€¢ Ğ—Ğ°Ğ¿Ñ€Ğ¾Ñ 3 â†’ ĞŸÑ€Ğ¾Ñ†ĞµÑÑ 1                                   â”‚
â”‚     â€¢ Ğ—Ğ°Ğ¿Ñ€Ğ¾Ñ 4 â†’ ĞŸÑ€Ğ¾Ñ†ĞµÑÑ 2                                   â”‚
â”‚     â€¢ ...                                                    â”‚
â”‚                                                              â”‚
â”‚  ĞœĞĞĞ˜Ğ¢ĞĞ Ğ˜ĞĞ“:                                                 â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                  â”‚
â”‚  pm2 status                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚id  â”‚name              â”‚namespaceâ”‚versionâ”‚pid  â”‚uptimeâ”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚0   â”‚passdesk-server   â”‚default  â”‚1.0.0  â”‚1234â”‚2d   â”‚  â”‚
â”‚  â”‚1   â”‚passdesk-server   â”‚default  â”‚1.0.0  â”‚1235â”‚2d   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                              â”‚
â”‚  ĞŸĞĞ”Ğ•ĞĞ˜Ğ• ĞŸĞ ĞĞ¦Ğ•Ğ¡Ğ¡Ğ:                                           â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                              â”‚
â”‚  1. Ğ•ÑĞ»Ğ¸ ĞŸÑ€Ğ¾Ñ†ĞµÑÑ 1 ÑƒĞ¿Ğ°Ğ´ĞµÑ‚ (Ğ¾ÑˆĞ¸Ğ±ĞºĞ°/crash):                    â”‚
â”‚     â€¢ PM2 Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸ Ğ¿ĞµÑ€ĞµĞ·Ğ°Ğ³Ñ€ÑƒĞ·Ğ¸Ñ‚ ĞµĞ³Ğ¾                     â”‚
â”‚     â€¢ ĞĞ¾Ğ²Ñ‹Ğ¹ Ğ¿Ñ€Ğ¾Ñ†ĞµÑÑ Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ PID 1236                        â”‚
â”‚     â€¢ ĞŸÑ€Ğ¾Ñ†ĞµÑÑ 2 Ğ¿Ñ€Ğ¾Ğ´Ğ¾Ğ»Ğ¶Ğ°ĞµÑ‚ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°Ñ‚ÑŒ                          â”‚
â”‚     â€¢ Ğ—Ğ°Ğ¿Ñ€Ğ¾ÑÑ‹ Ğ±Ğ°Ğ»Ğ°Ğ½ÑĞ¸Ñ€ÑƒÑÑ‚ÑÑ Ğ¼ĞµĞ¶Ğ´Ñƒ 1236 Ğ¸ 1235               â”‚
â”‚                                                              â”‚
â”‚  2. Ğ›Ğ¾Ğ³Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ:                                             â”‚
â”‚     pm2 logs passdesk-server                                 â”‚
â”‚     â€¢ Ğ’Ñ‹Ğ²Ğ¾Ğ´ Ğ¾Ğ±Ğ¾Ğ¸Ñ… Ğ¿Ñ€Ğ¾Ñ†ĞµÑÑĞ¾Ğ² Ğ² Ñ€ĞµĞ°Ğ»ÑŒĞ½Ğ¾Ğ¼ Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ¸               â”‚
â”‚     â€¢ ĞÑˆĞ¸Ğ±ĞºĞ¸ Ğ»Ğ¾Ğ³Ğ¸Ñ€ÑƒÑÑ‚ÑÑ Ğ² ./logs/error.log                   â”‚
â”‚                                                              â”‚
â”‚  ĞŸĞ•Ğ Ğ•Ğ—ĞĞŸĞ£Ğ¡Ğš (Ğ´Ğ»Ñ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ñ ĞºĞ¾Ğ´Ğ°):                          â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                  â”‚
â”‚  root@vps:~# pm2 restart passdesk-server                     â”‚
â”‚  â€¢ ĞŸĞ¾ÑÑ‹Ğ»Ğ°ĞµÑ‚ SIGTERM Ğ¾Ğ±Ğ¾Ğ¸Ğ¼ Ğ¿Ñ€Ğ¾Ñ†ĞµÑÑĞ°Ğ¼                          â”‚
â”‚  â€¢ ĞŸÑ€Ğ¾Ñ†ĞµÑÑÑ‹ gracefully Ğ·Ğ°ĞºÑ€Ñ‹Ğ²Ğ°ÑÑ‚ÑÑ (Ğ´Ğ¾ 30 ÑĞµĞº)               â”‚
â”‚  â€¢ ĞĞ¾Ğ²Ñ‹Ğµ Ğ¿Ñ€Ğ¾Ñ†ĞµÑÑÑ‹ Ğ·Ğ°Ğ¿ÑƒÑĞºĞ°ÑÑ‚ÑÑ Ñ Ğ½Ğ¾Ğ²Ñ‹Ğ¼ ĞºĞ¾Ğ´Ğ¾Ğ¼                  â”‚
â”‚  â€¢ Nginx Ğ¿Ñ€Ğ¾Ğ´Ğ¾Ğ»Ğ¶Ğ°ĞµÑ‚ Ğ¿Ñ€Ğ¾Ğ¿Ñ€Ğ¾ĞºÑĞ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑÑ‹ Ğ½Ğ° Ğ½Ğ¾Ğ²Ñ‹Ğµ Ğ¿Ñ€Ğ¾Ñ†ĞµÑÑÑ‹ â”‚
â”‚                                                              â”‚
â”‚  ĞĞ¡Ğ¢ĞĞĞĞ’ĞšĞ:                                                  â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                   â”‚
â”‚  root@vps:~# pm2 stop passdesk-server                        â”‚
â”‚  â€¢ ĞÑÑ‚Ğ°Ğ½Ğ°Ğ²Ğ»Ğ¸Ğ²Ğ°ĞµÑ‚ Ğ¾Ğ±Ğ° Ğ¿Ñ€Ğ¾Ñ†ĞµÑÑĞ°                                â”‚
â”‚  â€¢ Nginx Ğ²ĞµÑ€Ğ½ĞµÑ‚ 502 Bad Gateway Ğ´Ğ»Ñ /api Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ¾Ğ²            â”‚
â”‚                                                              â”‚
â”‚  ĞĞ’Ğ¢ĞĞ—ĞĞŸĞ£Ğ¡Ğš (Ğ¿Ğ¾ÑĞ»Ğµ Ğ¿ĞµÑ€ĞµĞ·Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ¸ ÑĞµÑ€Ğ²ĞµÑ€Ğ°):                    â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                    â”‚
â”‚  root@vps:~# pm2 startup                                     â”‚
â”‚  â€¢ Ğ¡Ğ¾Ğ·Ğ´Ğ°ĞµÑ‚ systemd service Ğ¸Ğ»Ğ¸ cron job                      â”‚
â”‚  â€¢ ĞŸÑ€Ğ¸ Ğ¿ĞµÑ€ĞµĞ·Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞµ OS â†’ Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ Ğ·Ğ°Ğ¿ÑƒÑĞº pm2          â”‚
â”‚  â€¢ pm2 Ğ·Ğ°Ğ½Ğ¾Ğ²Ğ¾ Ğ·Ğ°Ğ¿ÑƒÑĞºĞ°ĞµÑ‚ Ğ²ÑĞµ Ğ¿Ñ€Ğ¾Ñ†ĞµÑÑÑ‹ Ğ¸Ğ· ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³Ğ°              â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

**Ğ’ĞµÑ€ÑĞ¸Ñ:** 1.0  
**Ğ”Ğ°Ñ‚Ğ°:** 2025-01-23


